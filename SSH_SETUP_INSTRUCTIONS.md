# üîê –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSH –¥–æ—Å—Ç—É–ø–∞ –±–µ–∑ –ø–∞—Ä–æ–ª—è

## ‚úÖ SSH –∫–ª—é—á —Å–æ–∑–¥–∞–Ω!

–ü—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á —Å–æ—Ö—Ä–∞–Ω–µ–Ω –≤ —Ñ–∞–π–ª–µ: `ssh-public-key.txt`

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å–ø–æ—Å–æ–± (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ ssh-copy-id (–µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)

```bash
ssh-copy-id root@45.141.76.200
```

–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å: `R9AuQIMM&gt&`

### –í–∞—Ä–∏–∞–Ω—Ç 2: –û–¥–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ (Windows PowerShell)

```powershell
$pubKey = Get-Content "$env:USERPROFILE\.ssh\id_rsa.pub" -Raw
echo $pubKey | ssh root@45.141.76.200 "mkdir -p ~/.ssh && chmod 700 ~/.ssh && cat >> ~/.ssh/authorized_keys && chmod 600 ~/.ssh/authorized_keys"
```

–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å –∫–æ–≥–¥–∞ –±—É–¥–µ—Ç –∑–∞–ø—Ä–æ—à–µ–Ω: `R9AuQIMM&gt&`

### –í–∞—Ä–∏–∞–Ω—Ç 3: –†—É—á–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ

1. **–ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É:**
   ```bash
   ssh root@45.141.76.200
   ```
   –ü–∞—Ä–æ–ª—å: `R9AuQIMM&gt&`

2. **–ù–∞ —Å–µ—Ä–≤–µ—Ä–µ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:**
   ```bash
   mkdir -p ~/.ssh
   chmod 700 ~/.ssh
   nano ~/.ssh/authorized_keys
   ```

3. **–í—Å—Ç–∞–≤—å—Ç–µ –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á** (–∏–∑ —Ñ–∞–π–ª–∞ `ssh-public-key.txt`) –≤ —Ñ–∞–π–ª –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ:
   - Ctrl+O (—Å–æ—Ö—Ä–∞–Ω–∏—Ç—å)
   - Enter (–ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å)
   - Ctrl+X (–≤—ã–π—Ç–∏)

4. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∞:**
   ```bash
   chmod 600 ~/.ssh/authorized_keys
   ```

5. **–í—ã–π–¥–∏—Ç–µ –∏–∑ SSH:**
   ```bash
   exit
   ```

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ:

```bash
ssh root@45.141.76.200
```

**–ï—Å–ª–∏ –≤—Å—ë –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ, –ø–∞—Ä–æ–ª—å –∑–∞–ø—Ä–∞—à–∏–≤–∞—Ç—å—Å—è –Ω–µ –±—É–¥–µ—Ç!**

## üìã –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–µ—Ä–≤–µ—Ä–µ

- **IP:** 45.141.76.200
- **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:** root
- **–ü–∞—Ä–æ–ª—å:** R9AuQIMM&gt&
- **–ü—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á:** —Å–æ—Ö—Ä–∞–Ω–µ–Ω –≤ `ssh-public-key.txt`

## üîß –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Å–∫—Ä–∏–ø—Ç—ã

–°–æ–∑–¥–∞–Ω—ã —Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏:
- `setup-ssh-access.ps1` - PowerShell —Å–∫—Ä–∏–ø—Ç
- `setup-ssh-access.sh` - Bash —Å–∫—Ä–∏–ø—Ç (–¥–ª—è Linux/Mac)
- `copy-ssh-key.ps1` - –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π PowerShell —Å–∫—Ä–∏–ø—Ç

## ‚ö†Ô∏è –í–∞–∂–Ω–æ

- –ü—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á (`id_rsa.pub`) –º–æ–∂–Ω–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å
- –ü—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á (`id_rsa`) **–ù–ò–ö–û–ì–î–ê** –Ω–µ –ø–µ—Ä–µ–¥–∞–≤–∞–π—Ç–µ –Ω–∏–∫–æ–º—É!
- –ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –º–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å —Ñ–∞–π–ª —Å –ø–∞—Ä–æ–ª–µ–º –∏–∑ —Å–∫—Ä–∏–ø—Ç–æ–≤

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞: "Permission denied (publickey)"

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –Ω–∞ —Ñ–∞–π–ª `~/.ssh/authorized_keys` (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å 600)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –Ω–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é `~/.ssh` (–¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å 700)
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫–ª—é—á —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ (–±–µ–∑ –ª–∏—à–Ω–∏—Ö –ø—Ä–æ–±–µ–ª–æ–≤)

### –ü—Ä–æ–±–ª–µ–º–∞: "Host key verification failed"

**–†–µ—à–µ–Ω–∏–µ:**
```bash
ssh-keygen -R 45.141.76.200
```

### –ü—Ä–æ–±–ª–µ–º–∞: SSH –≤—Å—ë –µ—â—ë –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –ø–∞—Ä–æ–ª—å

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ `~/.ssh/authorized_keys` –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á:
   ```bash
   ssh -v root@45.141.76.200
   ```
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ: `/var/log/auth.log`

## üìù –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–î–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∞–ª–∏–∞—Å –≤ `~/.ssh/config`:

```
Host beget
    HostName 45.141.76.200
    User root
    IdentityFile ~/.ssh/id_rsa
```

–¢–æ–≥–¥–∞ –º–æ–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∞—Ç—å—Å—è –ø—Ä–æ—Å—Ç–æ:
```bash
ssh beget
```

